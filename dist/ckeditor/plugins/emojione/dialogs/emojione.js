CKEDITOR.dialog.add("emojioneDialog",(function(e){var t,o=e.config,n=function(o){var n=o.data.getTarget();n.getAttribute("data-unicode")&&(e.insertText(emojione.convert(n.getAttribute("data-unicode"))),t.hide()),o.data.preventDefault()},a=CKEDITOR.tools.addFunction((function(t,o){var a;t=new CKEDITOR.dom.event(t),o=new CKEDITOR.dom.element(o),a=t.getKeystroke();var i="rtl"==e.lang.dir;switch(a){case 38:(a=o.getParent().getParent().getPrevious())&&(a=a.getChild([o.getParent().getIndex(),0])).focus(),t.preventDefault();break;case 40:(a=o.getParent().getParent().getNext())&&(a=a.getChild([o.getParent().getIndex(),0]))&&a.focus(),t.preventDefault();break;case 32:n({data:t}),t.preventDefault();break;case i?37:39:(a=o.getParent().getNext())?((a=a.getChild(0)).focus(),t.preventDefault(!0)):(a=o.getParent().getParent().getNext())&&((a=a.getChild([0,0]))&&a.focus(),t.preventDefault(!0));break;case i?39:37:(a=o.getParent().getPrevious())?((a=a.getChild(0)).focus(),t.preventDefault(!0)):(a=o.getParent().getParent().getPrevious())&&((a=a.getLast().getChild(0)).focus(),t.preventDefault(!0))}})),i=function(e){var t=['<div style="max-height:300px;overflow-y:scroll;"><span id="'+(t=CKEDITOR.tools.getNextId()+"_smiley_emtions_label")+'" class="cke_voice_label">Test</span>','<table role="listbox" aria-labelledby="'+t+'" style="width:100%;height:100%;border-collapse:separate;" cellspacing="2" cellpadding="2"',CKEDITOR.env.ie&&CKEDITOR.env.quirks?' style="position:absolute;"':"","><tbody>"],n={},i=0;for(var s in emojione.imageType="svg",emojione.sprites=!0,emojione.imagePathSVGSprites="/vendor/emojione/assets/sprites/emojione.sprites.svg",emojione.emojioneList)if(emojione.emojioneList.hasOwnProperty(s)){var r=emojione.emojioneList[s];if(r.isCanonical)for(var l in r)r.hasOwnProperty(l)&&-1!=o.emojione.emojis[e].indexOf(s)&&(n[s]=r)}for(s in n)if(0==i%10&&t.push('<tr role="presentation">'),n.hasOwnProperty(s)){for(l in r=n[s])r.hasOwnProperty(l);t.push('<td class="cke_centered" style="vertical-align: middle;" role="presentation"><a style="font-size: 25px;" data-unicode="'+r.unicode[0]+'" data-shortcode="'+s+'" href="javascript:void(0)" role="option"',' aria-posinset="'+(i+1)+'"',' aria-setsize=""',' aria-labelledby=""',' class="cke_hand" tabindex="-1" onkeydown="CKEDITOR.tools.callFunction( ',a,', event, this );">',emojione.shortnameToUnicode(s)+"</a>","</td>"),9==i%10&&t.push("</tr>"),i++}if(9>i){for(;9>i;i++)t.push("<td></td>");t.push("</tr>")}return t.push("</tbody></table></div>"),t},s=function(e){return{type:"html",id:"emojiSelector",html:i(e).join(""),onLoad:function(e){t=e.sender},focus:function(){var e=this;setTimeout((function(){e.getElement().getElementsByTag("a").getItem(0).focus()}),0)},onClick:n,style:"width: 100%; border-collapse: separate;"}};return{title:"Emojis",minWidth:550,minHeight:200,contents:[{id:"tab-people",label:e.config.emojione.tabs.people,elements:[s("people")]},{id:"tab-nature",label:e.config.emojione.tabs.nature,elements:[s("nature")]},{id:"tab-objects",label:e.config.emojione.tabs.objects,elements:[s("objects")]},{id:"tab-places",label:e.config.emojione.tabs.places,elements:[s("places")]},{id:"tab-symbols",label:e.config.emojione.tabs.symbols,elements:[s("symbols")]}],onShow:function(){}}}));