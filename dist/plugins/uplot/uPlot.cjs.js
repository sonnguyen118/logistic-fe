"use strict";const FEAT_TIME=!0;function closestIdx(e,l,t,n){let i;t=t||0;let s=(n=n||l.length-1)<=2147483647;for(;n-t>1;)i=s?t+n>>1:floor((t+n)/2),l[i]<e?t=i:n=i;return e-l[t]<=l[n]-e?t:n}function nonNullIdx(e,l,t,n){for(let i=1==n?l:t;i>=l&&i<=t;i+=n)if(null!=e[i])return i;return-1}function getMinMax(e,l,t,n){let i=inf,s=-inf;if(1==n)i=e[l],s=e[t];else if(-1==n)i=e[t],s=e[l];else for(let n=l;n<=t;n++)null!=e[n]&&(i=min(i,e[n]),s=max(s,e[n]));return[i,s]}function getMinMaxLog(e,l,t){let n=inf,i=-inf;for(let s=l;s<=t;s++)e[s]>0&&(n=min(n,e[s]),i=max(i,e[s]));return[n==inf?1:n,i==-inf?10:i]}const _fixedTuple=[0,0];function fixIncr(e,l,t,n){return _fixedTuple[0]=t<0?roundDec(e,-t):e,_fixedTuple[1]=n<0?roundDec(l,-n):l,_fixedTuple}function rangeLog(e,l,t,n){let i,s,o,r=sign(e),a=10==t?log10:log2;return e==l&&(-1==r?(e*=t,l/=t):(e/=t,l*=t)),n?(i=floor(a(e)),s=ceil(a(l)),o=fixIncr(pow(t,i),pow(t,s),i,s),e=o[0],l=o[1]):(i=floor(a(abs(e))),s=floor(a(abs(l))),o=fixIncr(pow(t,i),pow(t,s),i,s),e=incrRoundDn(e,o[0]),l=incrRoundUp(l,o[1])),[e,l]}function rangeAsinh(e,l,t,n){let i=rangeLog(e,l,t,n);return 0==e&&(i[0]=0),0==l&&(i[1]=0),i}const rangePad=.1,autoRangePart={mode:3,pad:rangePad},_eqRangePart={pad:0,soft:null,mode:0},_eqRange={min:_eqRangePart,max:_eqRangePart};function rangeNum(e,l,t,n){return isObj(t)?_rangeNum(e,l,t):(_eqRangePart.pad=t,_eqRangePart.soft=n?0:null,_eqRangePart.mode=n?3:0,_rangeNum(e,l,_eqRange))}function ifNull(e,l){return null==e?l:e}function hasData(e,l,t){for(l=ifNull(l,0),t=ifNull(t,e.length-1);l<=t;){if(null!=e[l])return!0;l++}return!1}function _rangeNum(e,l,t){let n=t.min,i=t.max,s=ifNull(n.pad,0),o=ifNull(i.pad,0),r=ifNull(n.hard,-inf),a=ifNull(i.hard,inf),u=ifNull(n.soft,inf),c=ifNull(i.soft,-inf),f=ifNull(n.mode,0),p=ifNull(i.mode,0),d=l-e;d<1e-9&&(d=0,0!=e&&0!=l||(d=1e-9,2==f&&u!=inf&&(s=0),2==p&&c!=-inf&&(o=0)));let m=d||abs(l)||1e3,h=log10(m),g=pow(10,floor(h)),x=roundDec(incrRoundDn(e-m*(0==d?0==e?.1:1:s),g/10),9),_=e>=u&&(1==f||3==f&&x<=u||2==f&&x>=u)?u:inf,S=max(r,x<_&&e>=_?_:min(_,x)),w=roundDec(incrRoundUp(l+m*(0==d?0==l?.1:1:o),g/10),9),T=l<=c&&(1==p||3==p&&w>=c||2==p&&w<=c)?c:-inf,y=min(a,w>T&&l<=T?T:max(T,w));return S==y&&0==S&&(y=100),[S,y]}const fmtNum=new Intl.NumberFormat(navigator.language).format,M=Math,PI=M.PI,abs=M.abs,floor=M.floor,round=M.round,ceil=M.ceil,min=M.min,max=M.max,pow=M.pow,sign=M.sign,log10=M.log10,log2=M.log2,sinh=(e,l=1)=>M.sinh(e)*l,asinh=(e,l=1)=>M.asinh(e/l),inf=1/0;function numIntDigits(e){return 1+(0|log10((e^e>>31)-(e>>31)))}function incrRound(e,l){return round(e/l)*l}function clamp(e,l,t){return min(max(e,l),t)}function fnOrSelf(e){return"function"==typeof e?e:()=>e}const retArg0=e=>e,retArg1=(e,l)=>l,retNull=e=>null,retTrue=e=>!0,retEq=(e,l)=>e==l;function incrRoundUp(e,l){return ceil(e/l)*l}function incrRoundDn(e,l){return floor(e/l)*l}function roundDec(e,l){return round(e*(l=10**l))/l}const fixedDec=new Map;function guessDec(e){return((""+e).split(".")[1]||"").length}function genIncrs(e,l,t,n){let i=[],s=n.map(guessDec);for(let o=l;o<t;o++){let l=abs(o),t=roundDec(pow(e,o),l);for(let e=0;e<n.length;e++){let r=n[e]*t,a=(r>=0&&o>=0?0:l)+(o>=s[e]?0:s[e]),u=roundDec(r,a);i.push(u),fixedDec.set(u,a)}}return i}const EMPTY_OBJ={},EMPTY_ARR=[],nullNullTuple=[null,null],isArr=Array.isArray;function isStr(e){return"string"==typeof e}function isObj(e){let l=!1;if(null!=e){let t=e.constructor;l=null==t||t==Object}return l}function fastIsObj(e){return null!=e&&"object"==typeof e}function copy(e,l=isObj){let t;if(isArr(e)){let n=e.find((e=>null!=e));if(isArr(n)||l(n)){t=Array(e.length);for(let n=0;n<e.length;n++)t[n]=copy(e[n],l)}else t=e.slice()}else if(l(e)){t={};for(let n in e)t[n]=copy(e[n],l)}else t=e;return t}function assign(e){let l=arguments;for(let t=1;t<l.length;t++){let n=l[t];for(let l in n)isObj(e[l])?assign(e[l],copy(n[l])):e[l]=copy(n[l])}return e}const NULL_REMOVE=0,NULL_RETAIN=1,NULL_EXPAND=2;function nullExpand(e,l,t){for(let n,i=0,s=-1;i<l.length;i++){let o=l[i];if(o>s){for(n=o-1;n>=0&&null==e[n];)e[n--]=null;for(n=o+1;n<t&&null==e[n];)e[s=n++]=null}}}function join(e,l){let t=new Set;for(let l=0;l<e.length;l++){let n=e[l][0],i=n.length;for(let e=0;e<i;e++)t.add(n[e])}let n=[Array.from(t).sort(((e,l)=>e-l))],i=n[0].length,s=new Map;for(let e=0;e<i;e++)s.set(n[0][e],e);for(let t=0;t<e.length;t++){let o=e[t],r=o[0];for(let e=1;e<o.length;e++){let a=o[e],u=Array(i).fill(void 0),c=l?l[t][e]:NULL_RETAIN,f=[];for(let e=0;e<a.length;e++){let l=a[e],t=s.get(r[e]);null===l?c!=NULL_REMOVE&&(u[t]=l,c==NULL_EXPAND&&f.push(t)):u[t]=l}nullExpand(u,f,i),n.push(u)}}return n}const microTask="undefined"==typeof queueMicrotask?e=>Promise.resolve().then(e):queueMicrotask,WIDTH="width",HEIGHT="height",TOP="top",BOTTOM="bottom",LEFT="left",RIGHT="right",hexBlack="#000",transparent="#0000",mousemove="mousemove",mousedown="mousedown",mouseup="mouseup",mouseenter="mouseenter",mouseleave="mouseleave",dblclick="dblclick",resize="resize",scroll="scroll",change="change",dppxchange="dppxchange",pre="u-",UPLOT="uplot",ORI_HZ="u-hz",ORI_VT="u-vt",TITLE="u-title",WRAP="u-wrap",UNDER="u-under",OVER="u-over",AXIS="u-axis",OFF="u-off",SELECT="u-select",CURSOR_X="u-cursor-x",CURSOR_Y="u-cursor-y",CURSOR_PT="u-cursor-pt",LEGEND="u-legend",LEGEND_LIVE="u-live",LEGEND_INLINE="u-inline",LEGEND_THEAD="u-thead",LEGEND_SERIES="u-series",LEGEND_MARKER="u-marker",LEGEND_LABEL="u-label",LEGEND_VALUE="u-value",doc=document,win=window;let pxRatio,query;function setPxRatio(){let e=devicePixelRatio;pxRatio!=e&&(pxRatio=e,query&&off(change,query,setPxRatio),query=matchMedia(`(min-resolution: ${pxRatio-.001}dppx) and (max-resolution: ${pxRatio+.001}dppx)`),on(change,query,setPxRatio),win.dispatchEvent(new CustomEvent(dppxchange)))}function addClass(e,l){if(null!=l){let t=e.classList;!t.contains(l)&&t.add(l)}}function remClass(e,l){let t=e.classList;t.contains(l)&&t.remove(l)}function setStylePx(e,l,t){e.style[l]=t+"px"}function placeTag(e,l,t,n){let i=doc.createElement(e);return null!=l&&addClass(i,l),null!=t&&t.insertBefore(i,n),i}function placeDiv(e,l){return placeTag("div",e,l)}const xformCache=new WeakMap;function elTrans(e,l,t,n,i){let s="translate("+l+"px,"+t+"px)";s!=xformCache.get(e)&&(e.style.transform=s,xformCache.set(e,s),l<0||t<0||l>n||t>i?addClass(e,OFF):remClass(e,OFF))}const colorCache=new WeakMap;function elColor(e,l,t){let n=l+t;n!=colorCache.get(e)&&(colorCache.set(e,n),e.style.background=l,e.style.borderColor=t)}const sizeCache=new WeakMap;function elSize(e,l,t,n){let i=l+""+t;i!=sizeCache.get(e)&&(sizeCache.set(e,i),e.style.height=t+"px",e.style.width=l+"px",e.style.marginLeft=n?-l/2+"px":0,e.style.marginTop=n?-t/2+"px":0)}const evOpts={passive:!0},evOpts2=assign({capture:!0},evOpts);function on(e,l,t,n){l.addEventListener(e,t,n?evOpts2:evOpts)}function off(e,l,t,n){l.removeEventListener(e,t,n?evOpts2:evOpts)}setPxRatio();const months=["January","February","March","April","May","June","July","August","September","October","November","December"],days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function slice3(e){return e.slice(0,3)}const days3=days.map(slice3),months3=months.map(slice3),engNames={MMMM:months,MMM:months3,WWWW:days,WWW:days3};function zeroPad2(e){return(e<10?"0":"")+e}function zeroPad3(e){return(e<10?"00":e<100?"0":"")+e}const subs={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,l)=>l.MMMM[e.getMonth()],MMM:(e,l)=>l.MMM[e.getMonth()],MM:e=>zeroPad2(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>zeroPad2(e.getDate()),D:e=>e.getDate(),WWWW:(e,l)=>l.WWWW[e.getDay()],WWW:(e,l)=>l.WWW[e.getDay()],HH:e=>zeroPad2(e.getHours()),H:e=>e.getHours(),h:e=>{let l=e.getHours();return 0==l?12:l>12?l-12:l},AA:e=>e.getHours()>=12?"PM":"AM",aa:e=>e.getHours()>=12?"pm":"am",a:e=>e.getHours()>=12?"p":"a",mm:e=>zeroPad2(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>zeroPad2(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>zeroPad3(e.getMilliseconds())};function fmtDate(e,l){l=l||engNames;let t,n=[],i=/\{([a-z]+)\}|[^{]+/gi;for(;t=i.exec(e);)n.push("{"==t[0][0]?subs[t[1]]:t[0]);return e=>{let t="";for(let i=0;i<n.length;i++)t+="string"==typeof n[i]?n[i]:n[i](e,l);return t}}const localTz=(new Intl.DateTimeFormat).resolvedOptions().timeZone;function tzDate(e,l){let t;return"UTC"==l||"Etc/UTC"==l?t=new Date(+e+6e4*e.getTimezoneOffset()):l==localTz?t=e:(t=new Date(e.toLocaleString("en-US",{timeZone:l})),t.setMilliseconds(e.getMilliseconds())),t}const onlyWhole=e=>e%1==0,allMults=[1,2,2.5,5],decIncrs=genIncrs(10,-16,0,allMults),oneIncrs=genIncrs(10,0,16,allMults),wholeIncrs=oneIncrs.filter(onlyWhole),numIncrs=decIncrs.concat(oneIncrs),NL="\n",yyyy="{YYYY}",NLyyyy=NL+yyyy,md="{M}/{D}",NLmd=NL+md,NLmdyy=NLmd+"/{YY}",aa="{aa}",hmm="{h}:{mm}",hmmaa=hmm+aa,NLhmmaa=NL+hmmaa,ss=":{ss}",_=null;function genTimeStuffs(e){let l=1e3*e,t=60*l,n=60*t,i=24*n,s=30*i,o=365*i;return[(1==e?genIncrs(10,0,3,allMults).filter(onlyWhole):genIncrs(10,-3,0,allMults)).concat([l,5*l,10*l,15*l,30*l,t,5*t,10*t,15*t,30*t,n,2*n,3*n,4*n,6*n,8*n,12*n,i,2*i,3*i,4*i,5*i,6*i,7*i,8*i,9*i,10*i,15*i,s,2*s,3*s,4*s,6*s,o,2*o,5*o,10*o,25*o,50*o,100*o]),[[o,yyyy,_,_,_,_,_,_,1],[28*i,"{MMM}",NLyyyy,_,_,_,_,_,1],[i,md,NLyyyy,_,_,_,_,_,1],[n,"{h}"+aa,NLmdyy,_,NLmd,_,_,_,1],[t,hmmaa,NLmdyy,_,NLmd,_,_,_,1],[l,ss,NLmdyy+" "+hmmaa,_,NLmd+" "+hmmaa,_,NLhmmaa,_,1],[e,ss+".{fff}",NLmdyy+" "+hmmaa,_,NLmd+" "+hmmaa,_,NLhmmaa,_,1]],function(l){return(r,a,u,c,f,p)=>{let d=[],m=f>=o,h=f>=s&&f<o,g=l(u),x=roundDec(g*e,3),_=mkDate(g.getFullYear(),m?0:g.getMonth(),h||m?1:g.getDate()),S=roundDec(_*e,3);if(h||m){let t=h?f/s:0,n=m?f/o:0,i=x==S?x:roundDec(mkDate(_.getFullYear()+n,_.getMonth()+t,1)*e,3),r=new Date(round(i/e)),a=r.getFullYear(),u=r.getMonth();for(let s=0;i<=c;s++){let o=mkDate(a+n*s,u+t*s,1),r=o-l(roundDec(o*e,3));i=roundDec((+o+r)*e,3),i<=c&&d.push(i)}}else{let s=f>=i?i:f,o=S+(floor(u)-floor(x))+incrRoundUp(x-S,s);d.push(o);let m=l(o),h=m.getHours()+m.getMinutes()/t+m.getSeconds()/n,g=f/n,_=p/r.axes[a]._space;for(;o=roundDec(o+f,1==e?0:3),!(o>c);)if(g>1){let e=floor(roundDec(h+g,6))%24,t=l(o).getHours()-e;t>1&&(t=-1),o-=t*n,h=(h+g)%24,roundDec((o-d[d.length-1])/f,3)*_>=.7&&d.push(o)}else d.push(o)}return d}}]}const[timeIncrsMs,_timeAxisStampsMs,timeAxisSplitsMs]=genTimeStuffs(1),[timeIncrsS,_timeAxisStampsS,timeAxisSplitsS]=genTimeStuffs(.001);function timeAxisStamps(e,l){return e.map((e=>e.map(((t,n)=>0==n||8==n||null==t?t:l(1==n||0==e[8]?t:e[1]+t)))))}function timeAxisVals(e,l){return(t,n,i,s,o)=>{let r,a,u,c,f,p,d=l.find((e=>o>=e[0]))||l[l.length-1];return n.map((l=>{let t=e(l),n=t.getFullYear(),i=t.getMonth(),s=t.getDate(),o=t.getHours(),m=t.getMinutes(),h=t.getSeconds(),g=n!=r&&d[2]||i!=a&&d[3]||s!=u&&d[4]||o!=c&&d[5]||m!=f&&d[6]||h!=p&&d[7]||d[1];return r=n,a=i,u=s,c=o,f=m,p=h,g(t)}))}}function timeAxisVal(e,l){let t=fmtDate(l);return(l,n,i,s,o)=>n.map((l=>t(e(l))))}function mkDate(e,l,t){return new Date(e,l,t)}function timeSeriesStamp(e,l){return l(e)}genIncrs(2,-53,53,[1]);const _timeSeriesStamp="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function timeSeriesVal(e,l){return(t,n)=>l(e(n))}function legendStroke(e,l){let t=e.series[l];return t.width?t.stroke(e,l):t.points.width?t.points.stroke(e,l):null}function legendFill(e,l){return e.series[l].fill(e,l)}const legendOpts={show:!0,live:!0,isolate:!1,markers:{show:!0,width:2,stroke:legendStroke,fill:legendFill,dash:"solid"},idx:null,idxs:null,values:[]};function cursorPointShow(e,l){let t=e.cursor.points,n=placeDiv(),i=t.size(e,l);setStylePx(n,WIDTH,i),setStylePx(n,HEIGHT,i);let s=i/-2;setStylePx(n,"marginLeft",s),setStylePx(n,"marginTop",s);let o=t.width(e,l,i);return o&&setStylePx(n,"borderWidth",o),n}function cursorPointFill(e,l){let t=e.series[l].points;return t._fill||t._stroke}function cursorPointStroke(e,l){let t=e.series[l].points;return t._stroke||t._fill}function cursorPointSize(e,l){return ptDia(e.series[l].points.width,1)}function dataIdx(e,l,t){return t}const moveTuple=[0,0];function cursorMove(e,l,t){return moveTuple[0]=l,moveTuple[1]=t,moveTuple}function filtBtn0(e,l,t){return e=>{0==e.button&&t(e)}}function passThru(e,l,t){return t}const cursorOpts={show:!0,x:!0,y:!0,lock:!1,move:cursorMove,points:{show:cursorPointShow,size:cursorPointSize,width:0,stroke:cursorPointStroke,fill:cursorPointFill},bind:{mousedown:filtBtn0,mouseup:filtBtn0,click:filtBtn0,dblclick:filtBtn0,mousemove:passThru,mouseleave:passThru,mouseenter:passThru},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,_x:!1,_y:!1},focus:{prox:-1},left:-10,top:-10,idx:null,dataIdx:dataIdx,idxs:null},grid={show:!0,stroke:"rgba(0,0,0,0.07)",width:2,filter:retArg1},ticks=assign({},grid,{size:10}),font='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',labelFont="bold "+font,lineMult=1.5,xAxisOpts={show:!0,scale:"x",stroke:"#000",space:50,gap:5,size:50,labelGap:0,labelSize:30,labelFont:labelFont,side:2,grid:grid,ticks:ticks,font:font,rotate:0},numSeriesLabel="Value",timeSeriesLabel="Time",xSeriesOpts={show:!0,scale:"x",auto:!1,sorted:1,min:inf,max:-inf,idxs:[]};function numAxisVals(e,l,t,n,i){return l.map((e=>null==e?"":fmtNum(e)))}function numAxisSplits(e,l,t,n,i,s,o){let r=[],a=fixedDec.get(i)||0;for(let e=t=o?t:roundDec(incrRoundUp(t,i),a);e<=n;e=roundDec(e+i,a))r.push(Object.is(e,-0)?0:e);return r}function logAxisSplits(e,l,t,n,i,s,o){const r=[],a=e.scales[e.axes[l].scale].log,u=floor((10==a?log10:log2)(t));i=pow(a,u),u<0&&(i=roundDec(i,-u));let c=t;do{r.push(c),c=roundDec(c+i,fixedDec.get(i)),c>=i*a&&(i=c)}while(c<=n);return r}function asinhAxisSplits(e,l,t,n,i,s,o){let r=e.scales[e.axes[l].scale].asinh,a=n>r?logAxisSplits(e,l,max(r,t),n,i):[r],u=n>=0&&t<=0?[0]:[];return(t<-r?logAxisSplits(e,l,max(r,-n),-t,i):[r]).reverse().map((e=>-e)).concat(u,a)}const RE_ALL=/./,RE_12357=/[12357]/,RE_125=/[125]/,RE_1=/1/;function logAxisValsFilt(e,l,t,n,i){let s=e.axes[t],o=s.scale,r=e.scales[o];if(3==r.distr&&2==r.log)return l;let a=e.valToPos,u=s._space,c=a(10,o),f=a(9,o)-c>=u?RE_ALL:a(7,o)-c>=u?RE_12357:a(5,o)-c>=u?RE_125:RE_1;return l.map((e=>4==r.distr&&0==e||f.test(e)?e:null))}function numSeriesVal(e,l){return null==l?"":fmtNum(l)}const yAxisOpts={show:!0,scale:"y",stroke:"#000",space:30,gap:5,size:50,labelGap:0,labelSize:30,labelFont:labelFont,side:3,grid:grid,ticks:ticks,font:font,rotate:0};function ptDia(e,l){return roundDec((3+2*(e||1))*l,3)}function seriesPointsShow(e,l){let{scale:t,idxs:n}=e.series[0],i=e._data[0],s=e.valToPos(i[n[0]],t,!0),o=e.valToPos(i[n[1]],t,!0),r=abs(o-s)/(e.series[l].points.space*pxRatio);return n[1]-n[0]<=r}function seriesFillTo(e,l,t,n){let i=e.scales[e.series[l].scale],s=e.bands&&e.bands.some((e=>e.series[0]==l));return 3==i.distr||s?i.min:0}const facet={scale:null,auto:!0,min:inf,max:-inf},xySeriesOpts={show:!0,auto:!0,sorted:0,alpha:1,facets:[assign({},facet,{scale:"x"}),assign({},facet,{scale:"y"})]},ySeriesOpts={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:(e,l,t,n,i)=>i,alpha:1,points:{show:seriesPointsShow,filter:null},values:null,min:inf,max:-inf,idxs:[],path:null,clip:null};function clampScale(e,l,t,n,i){return t/10}const xScaleOpts={time:!0,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},yScaleOpts=assign({},xScaleOpts,{time:!1,ori:1}),syncs={};function _sync(e,l){let t=syncs[e];return t||(t={key:e,plots:[],sub(e){t.plots.push(e)},unsub(e){t.plots=t.plots.filter((l=>l!=e))},pub(e,l,n,i,s,o,r){for(let a=0;a<t.plots.length;a++)t.plots[a]!=l&&t.plots[a].pub(e,l,n,i,s,o,r)}},null!=e&&(syncs[e]=t)),t}const BAND_CLIP_FILL=1,BAND_CLIP_STROKE=2;function orient(e,l,t){const n=e.series[l],i=e.scales,s=e.bbox,o=2==e.mode?i[n.facets[0].scale]:i[e.series[0].scale];let r=e._data[0],a=e._data[l],u=o,c=2==e.mode?i[n.facets[1].scale]:i[n.scale],f=s.left,p=s.top,d=s.width,m=s.height,h=e.valToPosH,g=e.valToPosV;return 0==u.ori?t(n,r,a,u,c,h,g,f,p,d,m,moveToH,lineToH,rectH,arcH,bezierCurveToH):t(n,r,a,u,c,g,h,p,f,m,d,moveToV,lineToV,rectV,arcV,bezierCurveToV)}function clipBandLine(e,l,t,n,i){return orient(e,l,((e,l,s,o,r,a,u,c,f,p,d)=>{let m=e.pxRound;const h=o.dir*(0==o.ori?1:-1),g=0==o.ori?lineToH:lineToV;let x,_;1==h?(x=t,_=n):(x=n,_=t);let S=m(a(l[x],o,p,c)),w=m(u(s[x],r,d,f)),T=m(a(l[_],o,p,c)),y=m(u(r.max,r,d,f)),D=new Path2D(i);return g(D,T,y),g(D,S,y),g(D,S,w),D}))}function clipGaps(e,l,t,n,i,s){let o=null;if(e.length>0){o=new Path2D;const r=0==l?rectH:rectV;let a=t;for(let l=0;l<e.length;l++){let t=e[l];if(t[1]>t[0]){let e=t[0]-a;e>0&&r(o,a,n,e,n+s),a=t[1]}}let u=t+i-a;u>0&&r(o,a,n,u,n+s)}return o}function addGap(e,l,t){let n=e[e.length-1];n&&n[0]==l?n[1]=t:e.push([l,t])}function pxRoundGen(e){return 0==e?retArg0:1==e?round:l=>incrRound(l,e)}function rect(e){let l=0==e?moveToH:moveToV,t=0==e?(e,l,t,n,i,s)=>{e.arcTo(l,t,n,i,s)}:(e,l,t,n,i,s)=>{e.arcTo(t,l,i,n,s)},n=0==e?(e,l,t,n,i)=>{e.rect(l,t,n,i)}:(e,l,t,n,i)=>{e.rect(t,l,i,n)};return(e,i,s,o,r,a=0)=>{0==a?n(e,i,s,o,r):(a=min(a,o/2,r/2),l(e,i+a,s),t(e,i+o,s,i+o,s+r,a),t(e,i+o,s+r,i,s+r,a),t(e,i,s+r,i,s,a),t(e,i,s,i+o,s,a),e.closePath())}}const moveToH=(e,l,t)=>{e.moveTo(l,t)},moveToV=(e,l,t)=>{e.moveTo(t,l)},lineToH=(e,l,t)=>{e.lineTo(l,t)},lineToV=(e,l,t)=>{e.lineTo(t,l)},rectH=rect(0),rectV=rect(1),arcH=(e,l,t,n,i,s)=>{e.arc(l,t,n,i,s)},arcV=(e,l,t,n,i,s)=>{e.arc(t,l,n,i,s)},bezierCurveToH=(e,l,t,n,i,s,o)=>{e.bezierCurveTo(l,t,n,i,s,o)},bezierCurveToV=(e,l,t,n,i,s,o)=>{e.bezierCurveTo(t,l,i,n,o,s)};function points(e){return(e,l,t,n,i)=>orient(e,l,((l,s,o,r,a,u,c,f,p,d,m)=>{let h,g,{pxRound:x,points:_}=l;0==r.ori?(h=moveToH,g=arcH):(h=moveToV,g=arcV);const S=roundDec(_.width*pxRatio,3);let w=(_.size-_.width)/2*pxRatio,T=roundDec(2*w,3),y=new Path2D,D=new Path2D,{left:E,top:P,width:v,height:b}=e.bbox;rectH(D,E-T,P-T,v+2*T,b+2*T);const L=e=>{if(null!=o[e]){let l=x(u(s[e],r,d,f)),t=x(c(o[e],a,m,p));h(y,l+w,t),g(y,l,t,w,0,2*PI)}};if(i)i.forEach(L);else for(let e=t;e<=n;e++)L(e);return{stroke:S>0?y:null,fill:y,clip:D,flags:BAND_CLIP_FILL|BAND_CLIP_STROKE}}))}function _drawAcc(e){return(l,t,n,i,s,o)=>{n!=i&&(s!=n&&o!=n&&e(l,t,n),s!=i&&o!=i&&e(l,t,i),e(l,t,o))}}const drawAccH=_drawAcc(lineToH),drawAccV=_drawAcc(lineToV);function linear(){return(e,l,t,n)=>orient(e,l,((i,s,o,r,a,u,c,f,p,d,m)=>{let h,g,x=i.pxRound;0==r.ori?(h=lineToH,g=drawAccH):(h=lineToV,g=drawAccV);const _=r.dir*(0==r.ori?1:-1),S={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:BAND_CLIP_FILL},w=S.stroke;let T,y,D,E,P=inf,v=-inf,b=[],L=x(u(s[1==_?t:n],r,d,f)),R=!1,N=!1,O=nonNullIdx(o,t,n,1*_),A=nonNullIdx(o,t,n,-1*_),I=x(u(s[O],r,d,f)),M=x(u(s[A],r,d,f));I>f&&addGap(b,f,I);for(let e=1==_?t:n;e>=t&&e<=n;e+=_){let l=x(u(s[e],r,d,f));if(l==L)null!=o[e]?(y=x(c(o[e],a,m,p)),P==inf&&(h(w,l,y),T=y),P=min(y,P),v=max(y,v)):null===o[e]&&(R=N=!0);else{let t=!1;P!=inf?(g(w,L,P,v,T,y),D=E=L):R&&(t=!0,R=!1),null!=o[e]?(y=x(c(o[e],a,m,p)),h(w,l,y),P=v=T=y,N&&l-L>1&&(t=!0),N=!1):(P=inf,v=-inf,null===o[e]&&(R=!0,l-L>1&&(t=!0))),t&&addGap(b,D,l),L=l}}if(P!=inf&&P!=v&&E!=L&&g(w,L,P,v,T,y),M<f+d&&addGap(b,M,f+d),null!=i.fill){let t=S.fill=new Path2D(w),n=x(c(i.fillTo(e,l,i.min,i.max),a,m,p));h(t,M,n),h(t,I,n)}return S.gaps=b=i.gaps(e,l,t,n,b),i.spanGaps||(S.clip=clipGaps(b,r.ori,f,p,d,m)),e.bands.length>0&&(S.band=clipBandLine(e,l,t,n,w)),S}))}function stepped(e){const l=ifNull(e.align,1),t=ifNull(e.ascDesc,!1);return(e,n,i,s)=>orient(e,n,((o,r,a,u,c,f,p,d,m,h,g)=>{let x=o.pxRound,_=0==u.ori?lineToH:lineToV;const S={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:BAND_CLIP_FILL},w=S.stroke,T=1*u.dir*(0==u.ori?1:-1);i=nonNullIdx(a,i,s,1),s=nonNullIdx(a,i,s,-1);let y=[],D=!1,E=x(p(a[1==T?i:s],c,g,m)),P=x(f(r[1==T?i:s],u,h,d)),v=P;_(w,P,E);for(let e=1==T?i:s;e>=i&&e<=s;e+=T){let t=a[e],n=x(f(r[e],u,h,d));if(null==t){null===t&&(addGap(y,v,n),D=!0);continue}let i=x(p(t,c,g,m));D&&(addGap(y,v,n),D=!1),1==l?_(w,n,E):_(w,v,i),_(w,n,i),E=i,v=n}if(null!=o.fill){let l=S.fill=new Path2D(w),t=x(p(o.fillTo(e,n,o.min,o.max),c,g,m));_(l,v,t),_(l,P,t)}S.gaps=y=o.gaps(e,n,i,s,y);let b=o.width*pxRatio/2,L=t||1==l?b:-b,R=t||-1==l?-b:b;return y.forEach((e=>{e[0]+=L,e[1]+=R})),o.spanGaps||(S.clip=clipGaps(y,u.ori,d,m,h,g)),e.bands.length>0&&(S.band=clipBandLine(e,n,i,s,w)),S}))}function bars(e){const l=ifNull((e=e||EMPTY_OBJ).size,[.6,inf,1]),t=e.align||0,n=(e.gap||0)*pxRatio,i=ifNull(e.radius,0),s=1-l[0],o=ifNull(l[1],inf)*pxRatio,r=ifNull(l[2],1)*pxRatio,a=ifNull(e.disp,EMPTY_OBJ),u=ifNull(e.each,(e=>{})),{fill:c,stroke:f}=a;return(e,l,p,d)=>orient(e,l,((m,h,g,x,_,S,w,T,y,D,E)=>{let P=m.pxRound;const v=x.dir*(0==x.ori?1:-1),b=_.dir*(1==_.ori?1:-1);let L,R,N=0==x.ori?rectH:rectV,O=0==x.ori?u:(e,l,t,n,i,s,o)=>{u(e,l,t,i,n,o,s)},A=m.fillTo(e,l,m.min,m.max),I=w(A,_,E,y),M=P(m.width*pxRatio),k=!1,C=null,z=null,H=null,F=null;null!=c&&null!=f&&(k=!0,C=c.values(e,l,p,d),z=new Map,new Set(C).forEach((e=>{null!=e&&z.set(e,new Path2D)})),H=f.values(e,l,p,d),F=new Map,new Set(H).forEach((e=>{null!=e&&F.set(e,new Path2D)})));let{x0:V,size:G}=a;if(null!=V&&null!=G){h=V.values(e,l,p,d),2==V.unit&&(h=h.map((l=>e.posToVal(T+l*D,x.key,!0))));let t=G.values(e,l,p,d);R=2==G.unit?t[0]*D:S(t[0],x,D,T)-S(0,x,D,T),R=P(R-M),L=1==v?-M/2:R+M/2}else{let e=D;if(h.length>1){let l=null;for(let t=0,n=1/0;t<h.length;t++)if(void 0!==g[t]){if(null!=l){let i=abs(h[t]-h[l]);i<n&&(n=i,e=abs(S(h[t],x,D,T)-S(h[l],x,D,T)))}l=t}}R=P(min(o,max(r,e-e*s))-M-n),L=(0==t?R/2:t==v?0:R)-t*v*n/2}const B={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:BAND_CLIP_FILL|BAND_CLIP_STROKE},Y=e.bands.length>0;let W;Y&&(B.band=new Path2D,W=P(w(_.max,_,E,y)));const U=k?null:new Path2D,q=B.band;for(let t=1==v?p:d;t>=p&&t<=d;t+=v){let n=g[t],s=S(2!=x.distr||null!=a?h[t]:t,x,D,T),o=w(ifNull(n,A),_,E,y),r=P(s-L),u=P(max(o,I)),c=P(min(o,I)),f=u-c,p=i*R;null!=n&&(k?(M>0&&null!=H[t]&&N(F.get(H[t]),r,c+floor(M/2),R,max(0,f-M),p),null!=C[t]&&N(z.get(C[t]),r,c+floor(M/2),R,max(0,f-M),p)):N(U,r,c+floor(M/2),R,max(0,f-M),p),O(e,l,t,r-M/2,c,R+M,f)),Y&&(1==b?(u=c,c=W):(c=u,u=W),f=u-c,N(q,r-M/2,c,R+M,max(0,f),0))}return M>0&&(B.stroke=k?F:U),B.fill=k?z:U,B}))}function splineInterp(e,l){return(l,t,n,i)=>orient(l,t,((s,o,r,a,u,c,f,p,d,m,h)=>{let g,x,_,S=s.pxRound;0==a.ori?(g=moveToH,_=lineToH,x=bezierCurveToH):(g=moveToV,_=lineToV,x=bezierCurveToV);const w=1*a.dir*(0==a.ori?1:-1);n=nonNullIdx(r,n,i,1),i=nonNullIdx(r,n,i,-1);let T=[],y=!1,D=S(c(o[1==w?n:i],a,m,p)),E=D,P=[],v=[];for(let e=1==w?n:i;e>=n&&e<=i;e+=w){let l=r[e],t=c(o[e],a,m,p);null!=l?(y&&(addGap(T,E,t),y=!1),P.push(E=t),v.push(f(r[e],u,h,d))):null===l&&(addGap(T,E,t),y=!0)}const b={stroke:e(P,v,g,_,x,S),fill:null,clip:null,band:null,gaps:null,flags:BAND_CLIP_FILL},L=b.stroke;if(null!=s.fill&&null!=L){let e=b.fill=new Path2D(L),n=S(f(s.fillTo(l,t,s.min,s.max),u,h,d));_(e,E,n),_(e,D,n)}return b.gaps=T=s.gaps(l,t,n,i,T),s.spanGaps||(b.clip=clipGaps(T,a.ori,p,d,m,h)),l.bands.length>0&&(b.band=clipBandLine(l,t,n,i,L)),b}))}function monotoneCubic(e){return splineInterp(_monotoneCubic)}function _monotoneCubic(e,l,t,n,i,s){const o=e.length;if(o<2)return null;const r=new Path2D;if(t(r,e[0],l[0]),2==o)n(r,e[1],l[1]);else{let t=Array(o),n=Array(o-1),s=Array(o-1),a=Array(o-1);for(let t=0;t<o-1;t++)s[t]=l[t+1]-l[t],a[t]=e[t+1]-e[t],n[t]=s[t]/a[t];t[0]=n[0];for(let e=1;e<o-1;e++)0===n[e]||0===n[e-1]||n[e-1]>0!=n[e]>0?t[e]=0:(t[e]=3*(a[e-1]+a[e])/((2*a[e]+a[e-1])/n[e-1]+(a[e]+2*a[e-1])/n[e]),isFinite(t[e])||(t[e]=0));t[o-1]=n[o-2];for(let n=0;n<o-1;n++)i(r,e[n]+a[n]/3,l[n]+t[n]*a[n]/3,e[n+1]-a[n]/3,l[n+1]-t[n+1]*a[n]/3,e[n+1],l[n+1])}return r}const cursorPlots=new Set;function invalidateRects(){cursorPlots.forEach((e=>{e.syncRect(!0)}))}on(resize,win,invalidateRects),on(scroll,win,invalidateRects,!0);const linearPath=linear(),pointsPath=points();function setDefaults(e,l,t,n){return(n?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map(((e,n)=>setDefault(e,n,l,t)))}function setDefaults2(e,l){return e.map(((e,t)=>0==t?null:assign({},l,e)))}function setDefault(e,l,t,n){return assign({},0==l?t:n,e)}function snapNumX(e,l,t){return null==l?nullNullTuple:[l,t]}const snapTimeX=snapNumX;function snapNumY(e,l,t){return null==l?nullNullTuple:rangeNum(l,t,rangePad,!0)}function snapLogY(e,l,t,n){return null==l?nullNullTuple:rangeLog(l,t,e.scales[n].log,!1)}const snapLogX=snapLogY;function snapAsinhY(e,l,t,n){return null==l?nullNullTuple:rangeAsinh(l,t,e.scales[n].log,!1)}const snapAsinhX=snapAsinhY;function findIncr(e,l,t,n,i){let s=max(numIntDigits(e),numIntDigits(l)),o=l-e,r=closestIdx(i/n*o,t);do{let e=t[r],l=n*e/o;if(l>=i&&s+(e<5?fixedDec.get(e):0)<=17)return[e,l]}while(++r<t.length);return[0,0]}function pxRatioFont(e){let l,t;return[e=e.replace(/(\d+)px/,((e,n)=>(l=round((t=+n)*pxRatio))+"px")),l,t]}function syncFontSize(e){e.show&&[e.font,e.labelFont].forEach((e=>{let l=roundDec(e[2]*pxRatio,1);e[0]=e[0].replace(/[0-9.]+px/,l+"px"),e[1]=l}))}function uPlot(e,l,t){const n={mode:ifNull(e.mode,1)},i=n.mode;function s(e,l){return((3==l.distr?log10(e>0?e:l.clamp(n,e,l.min,l.max,l.key)):4==l.distr?asinh(e,l.asinh):e)-l._min)/(l._max-l._min)}function o(e,l,t,n){let i=s(e,l);return n+t*(-1==l.dir?1-i:i)}function r(e,l,t,n){let i=s(e,l);return n+t*(-1==l.dir?i:1-i)}function a(e,l,t,n){return 0==l.ori?o(e,l,t,n):r(e,l,t,n)}n.valToPosH=o,n.valToPosV=r;let u=!1;n.status=0;const c=n.root=placeDiv(UPLOT);null!=e.id&&(c.id=e.id),addClass(c,e.class),e.title&&(placeDiv(TITLE,c).textContent=e.title);const f=placeTag("canvas"),p=n.ctx=f.getContext("2d"),d=placeDiv(WRAP,c),m=n.under=placeDiv(UNDER,d);d.appendChild(f);const h=n.over=placeDiv(OVER,d),g=+ifNull((e=copy(e)).pxAlign,1),x=pxRoundGen(g);(e.plugins||[]).forEach((l=>{l.opts&&(e=l.opts(n,e)||e)}));const _=e.ms||.001,S=n.series=1==i?setDefaults(e.series||[],xSeriesOpts,ySeriesOpts,!1):setDefaults2(e.series||[null],xySeriesOpts),w=n.axes=setDefaults(e.axes||[],xAxisOpts,yAxisOpts,!0),T=n.scales={},y=n.bands=e.bands||[];y.forEach((e=>{e.fill=fnOrSelf(e.fill||null)}));const D=2==i?S[1].facets[0].scale:S[0].scale,E={axes:function(){for(let e=0;e<w.length;e++){let l=w[e];if(!l.show||!l._show)continue;let t,i,s=l.side,o=s%2,r=l.stroke(n,e),u=0==s||3==s?-1:1;if(l.label){let e=l.labelGap*u,n=round((l._lpos+e)*pxRatio);Ue(l.labelFont[0],r,"center",2==s?TOP:BOTTOM),p.save(),1==o?(t=i=0,p.translate(n,round(oe+ae/2)),p.rotate((3==s?-PI:PI)/2)):(t=round(se+re/2),i=n),p.fillText(l.label,t,i),p.restore()}let[c,f]=l._found;if(0==f)continue;let d=T[l.scale],m=0==o?re:ae,h=0==o?se:oe,g=round(l.gap*pxRatio),_=l._splits,S=2==d.distr?_.map((e=>Ve[e])):_,y=2==d.distr?Ve[_[1]]-Ve[_[0]]:c,D=l.ticks,E=D.show?round(D.size*pxRatio):0,P=l._rotate*-PI/180,v=x(l._pos*pxRatio),b=v+(E+g)*u;i=0==o?b:0,t=1==o?b:0,Ue(l.font[0],r,1==l.align?LEFT:2==l.align?RIGHT:P>0?LEFT:P<0?RIGHT:0==o?"center":3==s?RIGHT:LEFT,P||1==o?"middle":2==s?TOP:BOTTOM);let L=l.font[1]*lineMult,R=_.map((e=>x(a(e,d,m,h)))),N=l._values;for(let e=0;e<N.length;e++){let l=N[e];if(null!=l){0==o?t=R[e]:i=R[e],l=""+l;let n=-1==l.indexOf("\n")?[l]:l.split(/\n/gm);for(let e=0;e<n.length;e++){let l=n[e];P?(p.save(),p.translate(t,i+e*L),p.rotate(P),p.fillText(l,0,0),p.restore()):p.fillText(l,t,i+e*L)}}}D.show&&Qe(R,D.filter(n,S,e,f,y),o,s,v,E,roundDec(D.width*pxRatio,3),D.stroke(n,e),D.dash,D.cap);let O=l.grid;O.show&&Qe(R,O.filter(n,S,e,f,y),o,0==o?2:1,0==o?oe:se,0==o?ae:re,roundDec(O.width*pxRatio,3),O.stroke(n,e),O.dash,O.cap)}$l("drawAxes")},series:function(){ve>0&&(S.forEach(((e,t)=>{if(t>0&&e.show&&null==e._paths){let i=function(e){let l=clamp(be-1,0,ve-1),t=clamp(Le+1,0,ve-1);for(;null==e[l]&&l>0;)l--;for(;null==e[t]&&t<ve-1;)t++;return[l,t]}(l[t]);e._paths=e.paths(n,t,i[0],i[1])}})),S.forEach(((e,l)=>{if(l>0&&e.show){Fe!=e.alpha&&(p.globalAlpha=Fe=e.alpha),je(l,!1),e._paths&&Xe(l,!1);{je(l,!0);let t=e.points.show(n,l,be,Le),i=e.points.filter(n,l,t,e._paths?e._paths.gaps:null);(t||i)&&(e.points._paths=e.points.paths(n,l,be,Le,i),Xe(l,!0))}1!=Fe&&(p.globalAlpha=Fe=1),$l("drawSeries",l)}})))}},P=(e.drawOrder||["axes","series"]).map((e=>E[e]));function v(l){let t=T[l];if(null==t){let n=(e.scales||EMPTY_OBJ)[l]||EMPTY_OBJ;if(null!=n.from)v(n.from),T[l]=assign({},T[n.from],n,{key:l});else{t=T[l]=assign({},l==D?xScaleOpts:yScaleOpts,n),2==i&&(t.time=!1),t.key=l;let e=t.time,s=t.range,o=isArr(s);if((l!=D||2==i)&&(!o||null!=s[0]&&null!=s[1]||(s={min:null==s[0]?autoRangePart:{mode:1,hard:s[0],soft:s[0]},max:null==s[1]?autoRangePart:{mode:1,hard:s[1],soft:s[1]}},o=!1),!o&&isObj(s))){let e=s;s=(l,t,n)=>null==t?nullNullTuple:rangeNum(t,n,e)}t.range=fnOrSelf(s||(e?snapTimeX:l==D?3==t.distr?snapLogX:4==t.distr?snapAsinhX:snapNumX:3==t.distr?snapLogY:4==t.distr?snapAsinhY:snapNumY)),t.auto=fnOrSelf(!o&&t.auto),t.clamp=fnOrSelf(t.clamp||clampScale),t._min=t._max=null}}}v("x"),v("y"),1==i&&S.forEach((e=>{v(e.scale)})),w.forEach((e=>{v(e.scale)}));for(let l in e.scales)v(l);const b=T[D],L=b.distr;let R,N;0==b.ori?(addClass(c,ORI_HZ),R=o,N=r):(addClass(c,ORI_VT),R=r,N=o);const O={};for(let e in T){let l=T[e];null==l.min&&null==l.max||(O[e]={min:l.min,max:l.max},l.min=l.max=null)}const A=e.tzDate||(e=>new Date(round(e/_))),I=e.fmtDate||fmtDate,M=1==_?timeAxisSplitsMs(A):timeAxisSplitsS(A),k=timeAxisVals(A,timeAxisStamps(1==_?_timeAxisStampsMs:_timeAxisStampsS,I)),C=timeSeriesVal(A,timeSeriesStamp(_timeSeriesStamp,I)),z=[],H=n.legend=assign({},legendOpts,e.legend),F=H.show,V=H.markers;let G;H.idxs=z,V.width=fnOrSelf(V.width),V.dash=fnOrSelf(V.dash),V.stroke=fnOrSelf(V.stroke),V.fill=fnOrSelf(V.fill);let B,Y=[],W=[],U=!1,q={};if(H.live){const e=S[1]?S[1].values:null;U=null!=e,B=U?e(n,1,0):{_:0};for(let e in B)q[e]="--"}if(F)if(G=placeTag("table",LEGEND,c),U){let e=placeTag("tr",LEGEND_THEAD,G);for(var j in placeTag("th",null,e),B)placeTag("th",LEGEND_LABEL,e).textContent=j}else addClass(G,LEGEND_INLINE),H.live&&addClass(G,LEGEND_LIVE);const X={show:!0},J={show:!1},K=new Map;function Z(e,l,t){const i=K.get(l)||{},s=xe.bind[e](n,l,t);s&&(on(e,l,i[e]=s),K.set(l,i))}function $(e,l,t){const n=K.get(l)||{};for(let t in n)null!=e&&t!=e||(off(t,l,n[t]),delete n[t]);null==e&&K.delete(l)}let Q=0,ee=0,le=0,te=0,ne=0,ie=0,se=0,oe=0,re=0,ae=0;n.bbox={};let ue=!1,ce=!1,fe=!1,pe=!1,de=!1;function me(e,l,t){(t||e!=n.width||l!=n.height)&&he(e,l),tl(!1),fe=!0,ce=!0,pe=de=xe.left>=0,gl()}function he(e,l){n.width=Q=le=e,n.height=ee=te=l,ne=ie=0,function(){let e=!1,l=!1,t=!1,n=!1;w.forEach(((i,s)=>{if(i.show&&i._show){let{side:s,_size:o}=i,r=s%2,a=o+(null!=i.label?i.labelSize:0);a>0&&(r?(le-=a,3==s?(ne+=a,n=!0):t=!0):(te-=a,0==s?(ie+=a,e=!0):l=!0))}})),ye[0]=e,ye[1]=t,ye[2]=l,ye[3]=n,le-=Pe[1]+Pe[3],ne+=Pe[3],te-=Pe[2]+Pe[0],ie+=Pe[0]}(),function(){let e=ne+le,l=ie+te,t=ne,n=ie;function i(i,s){switch(i){case 1:return e+=s,e-s;case 2:return l+=s,l-s;case 3:return t-=s,t+s;case 0:return n-=s,n+s}}w.forEach(((e,l)=>{if(e.show&&e._show){let l=e.side;e._pos=i(l,e._size),null!=e.label&&(e._lpos=i(l,e.labelSize))}}))}();let t=n.bbox;se=t.left=incrRound(ne*pxRatio,.5),oe=t.top=incrRound(ie*pxRatio,.5),re=t.width=incrRound(le*pxRatio,.5),ae=t.height=incrRound(te*pxRatio,.5)}const ge=3;n.setSize=function({width:e,height:l}){me(e,l)};const xe=n.cursor=assign({},cursorOpts,{drag:{y:2==i}},e.cursor);{xe.idxs=z,xe._lock=!1;let e=xe.points;e.show=fnOrSelf(e.show),e.size=fnOrSelf(e.size),e.stroke=fnOrSelf(e.stroke),e.width=fnOrSelf(e.width),e.fill=fnOrSelf(e.fill)}const _e=n.focus=assign({},e.focus||{alpha:.3},xe.focus),Se=_e.prox>=0;let we=[null];function Te(e,l){if(1==i||l>0){let l=1==i&&T[e.scale].time,t=e.value;e.value=l?isStr(t)?timeSeriesVal(A,timeSeriesStamp(t,I)):t||C:t||numSeriesVal,e.label=e.label||(l?timeSeriesLabel:numSeriesLabel)}if(l>0){e.width=null==e.width?1:e.width,e.paths=e.paths||linearPath||retNull,e.fillTo=fnOrSelf(e.fillTo||seriesFillTo),e.pxAlign=+ifNull(e.pxAlign,g),e.pxRound=pxRoundGen(e.pxAlign),e.stroke=fnOrSelf(e.stroke||null),e.fill=fnOrSelf(e.fill||null),e._stroke=e._fill=e._paths=e._focus=null;let l=ptDia(e.width,1),t=e.points=assign({},{size:l,width:max(1,.2*l),stroke:e.stroke,space:2*l,paths:pointsPath,_stroke:null,_fill:null},e.points);t.show=fnOrSelf(t.show),t.filter=fnOrSelf(t.filter),t.fill=fnOrSelf(t.fill),t.stroke=fnOrSelf(t.stroke),t.paths=fnOrSelf(t.paths),t.pxAlign=e.pxAlign}if(F){let t=function(e,l){if(0==l&&(U||!H.live||2==i))return nullNullTuple;let t=[],s=placeTag("tr",LEGEND_SERIES,G,G.childNodes[l]);addClass(s,e.class),e.show||addClass(s,OFF);let o=placeTag("th",null,s);if(V.show){let e=placeDiv(LEGEND_MARKER,o);if(l>0){let t=V.width(n,l);t&&(e.style.border=t+"px "+V.dash(n,l)+" "+V.stroke(n,l)),e.style.background=V.fill(n,l)}}let r=placeDiv(LEGEND_LABEL,o);for(var a in r.textContent=e.label,l>0&&(V.show||(r.style.color=e.width>0?V.stroke(n,l):V.fill(n,l)),Z("click",o,(l=>{if(xe._lock)return;let t=S.indexOf(e);if((l.ctrlKey||l.metaKey)!=H.isolate){let e=S.some(((e,l)=>l>0&&l!=t&&e.show));S.forEach(((l,n)=>{n>0&&bl(n,e?n==t?X:J:X,!0,Ql.setSeries)}))}else bl(t,{show:!e.show},!0,Ql.setSeries)})),Se&&Z(mouseenter,o,(l=>{xe._lock||bl(S.indexOf(e),Ol,!0,Ql.setSeries)}))),B){let e=placeTag("td",LEGEND_VALUE,s);e.textContent="--",t.push(e)}return[s,t]}(e,l);Y.splice(l,0,t[0]),W.splice(l,0,t[1]),H.values.push(null)}if(xe.show){z.splice(l,0,null);let t=function(e,l){if(l>0){let t=xe.points.show(n,l);if(t)return addClass(t,CURSOR_PT),addClass(t,e.class),elTrans(t,-10,-10,le,te),h.insertBefore(t,we[l]),t}}(e,l);t&&we.splice(l,0,t)}}n.addSeries=function(e,l){e=setDefault(e,l=null==l?S.length:l,xSeriesOpts,ySeriesOpts),S.splice(l,0,e),Te(S[l],l)},n.delSeries=function(e){if(S.splice(e,1),F){H.values.splice(e,1),W.splice(e,1);let l=Y.splice(e,1)[0];$(null,l.firstChild),l.remove()}xe.show&&(z.splice(e,1),we.length>1&&we.splice(e,1)[0].remove())};const ye=[!1,!1,!1,!1];function De(e,l,t,n){let[i,s,o,r]=t,a=l%2,u=0;return 0==a&&(r||s)&&(u=0==l&&!i||2==l&&!o?round(xAxisOpts.size/3):0),1==a&&(i||o)&&(u=1==l&&!s||3==l&&!r?round(yAxisOpts.size/2):0),u}const Ee=n.padding=(e.padding||[De,De,De,De]).map((e=>fnOrSelf(ifNull(e,De)))),Pe=n._padding=Ee.map(((e,l)=>e(n,l,ye,0)));let ve,be=null,Le=null;const Re=1==i?S[0].idxs:null;let Ne,Oe,Ae,Ie,Me,ke,Ce,ze,He,Fe,Ve=null,Ge=!1;function Be(e,t){if(2==i){ve=0;for(let e=1;e<S.length;e++)ve+=l[e][0].length;n.data=l=e}else(l=(e||[]).slice())[0]=l[0]||[],n.data=l.slice(),Ve=l[0],ve=Ve.length,2==L&&(l[0]=Ve.map(((e,l)=>l)));if(n._data=l,tl(!0),$l("setData"),!1!==t){let e=b;e.auto(n,Ge)?Ye():vl(D,e.min,e.max),pe=xe.left>=0,de=!0,gl()}}function Ye(){let e,t;Ge=!0,1==i&&(ve>0?(be=Re[0]=0,Le=Re[1]=ve-1,e=l[0][be],t=l[0][Le],2==L?(e=be,t=Le):1==ve&&(3==L?[e,t]=rangeLog(e,e,b.log,!1):4==L?[e,t]=rangeAsinh(e,e,b.log,!1):b.time?t=e+round(86400/_):[e,t]=rangeNum(e,t,rangePad,!0))):(be=Re[0]=e=null,Le=Re[1]=t=null)),vl(D,e,t)}function We(e=transparent,l,t=EMPTY_ARR,n="butt",i=transparent,s="round"){e!=Ne&&(p.strokeStyle=Ne=e),i!=Oe&&(p.fillStyle=Oe=i),l!=Ae&&(p.lineWidth=Ae=l),s!=Me&&(p.lineJoin=Me=s),n!=ke&&(p.lineCap=ke=n),t!=Ie&&p.setLineDash(Ie=t)}function Ue(e,l,t,n){l!=Oe&&(p.fillStyle=Oe=l),e!=Ce&&(p.font=Ce=e),t!=ze&&(p.textAlign=ze=t),n!=He&&(p.textBaseline=He=n)}function qe(e,l,t,i){if(e.auto(n,Ge)&&(null==l||null==l.min)){let l=ifNull(be,0),n=ifNull(Le,i.length-1),s=null==t.min?3==e.distr?getMinMaxLog(i,l,n):getMinMax(i,l,n):[t.min,t.max];e.min=min(e.min,t.min=s[0]),e.max=max(e.max,t.max=s[1])}}function je(e,l){let t=l?S[e].points:S[e];t._stroke=t.stroke(n,e),t._fill=t.fill(n,e)}function Xe(e,t){let i=t?S[e].points:S[e],s=i._stroke,o=i._fill,{stroke:r,fill:a,clip:u,flags:c}=i._paths,f=null,d=roundDec(i.width*pxRatio,3),m=d%2/2;t&&null==o&&(o=d>0?"#fff":s);let h=1==i.pxAlign;if(h&&p.translate(m,m),!t){let e=se,l=oe,t=re,n=ae,s=d*pxRatio/2;0==i.min&&(n+=s),0==i.max&&(l-=s,n+=s),f=new Path2D,f.rect(e,l,t,n)}t?Ke(s,d,i.dash,i.cap,o,r,a,c,u):function(e,t,i,s,o,r,a,u,c,f,p){let d=!1;y.forEach(((m,h)=>{if(m.series[0]==e){let e,g=S[m.series[1]],x=l[m.series[1]],_=(g._paths||EMPTY_OBJ).band,w=null;g.show&&_&&hasData(x,be,Le)?(w=m.fill(n,h)||r,e=g._paths.clip):_=null,Ke(t,i,s,o,w,a,u,c,f,p,e,_),d=!0}})),d||Ke(t,i,s,o,r,a,u,c,f,p)}(e,s,d,i.dash,i.cap,o,r,a,c,f,u),h&&p.translate(-m,-m)}n.setData=Be;const Je=BAND_CLIP_FILL|BAND_CLIP_STROKE;function Ke(e,l,t,n,i,s,o,r,a,u,c,f){We(e,l,t,n,i),(a||u||f)&&(p.save(),a&&p.clip(a),u&&p.clip(u)),f?(r&Je)==Je?(p.clip(f),c&&p.clip(c),$e(i,o),Ze(e,s,l)):r&BAND_CLIP_STROKE?($e(i,o),p.clip(f),Ze(e,s,l)):r&BAND_CLIP_FILL&&(p.save(),p.clip(f),c&&p.clip(c),$e(i,o),p.restore(),Ze(e,s,l)):($e(i,o),Ze(e,s,l)),(a||u||f)&&p.restore()}function Ze(e,l,t){t>0&&(l instanceof Map?l.forEach(((e,l)=>{p.strokeStyle=Ne=l,p.stroke(e)})):null!=l&&e&&p.stroke(l))}function $e(e,l){l instanceof Map?l.forEach(((e,l)=>{p.fillStyle=Oe=l,p.fill(e)})):null!=l&&e&&p.fill(l)}function Qe(e,l,t,n,i,s,o,r,a,u){let c=o%2/2;1==g&&p.translate(c,c),We(r,o,a,u,r),p.beginPath();let f,d,m,h,x=i+(0==n||3==n?-s:s);0==t?(d=i,h=x):(f=i,m=x);for(let n=0;n<e.length;n++)null!=l[n]&&(0==t?f=m=e[n]:d=h=e[n],p.moveTo(f,d),p.lineTo(m,h));p.stroke(),1==g&&p.translate(-c,-c)}function el(e){let l=!0;return w.forEach(((t,i)=>{if(!t.show)return;let s=T[t.scale];if(null==s.min)return void(t._show&&(l=!1,t._show=!1,tl(!1)));t._show||(l=!1,t._show=!0,tl(!1));let o=t.side,r=o%2,{min:a,max:u}=s,[c,f]=function(e,l,t,i){let s,o=w[e];if(i<=0)s=[0,0];else{let r=o._space=o.space(n,e,l,t,i);s=findIncr(l,t,o._incrs=o.incrs(n,e,l,t,i,r),i,r)}return o._found=s}(i,a,u,0==r?le:te);if(0==f)return;let p=2==s.distr,d=t._splits=t.splits(n,i,a,u,c,f,p),m=2==s.distr?d.map((e=>Ve[e])):d,h=2==s.distr?Ve[d[1]]-Ve[d[0]]:c,g=t._values=t.values(n,t.filter(n,m,i,f,h),i,f,h);t._rotate=2==o?t.rotate(n,g,i,f):0;let x=t._size;t._size=ceil(t.size(n,g,i,e)),null!=x&&t._size!=x&&(l=!1)})),l}function ll(e){let l=!0;return Ee.forEach(((t,i)=>{let s=t(n,i,ye,e);s!=Pe[i]&&(l=!1),Pe[i]=s})),l}function tl(e){S.forEach(((l,t)=>{t>0&&(l._paths=null,e&&(1==i?(l.min=null,l.max=null):l.facets.forEach((e=>{e.min=null,e.max=null}))))}))}let nl,il,sl,ol,rl,al,ul,cl,fl,pl,dl,ml,hl=!1;function gl(){hl||(microTask(xl),hl=!0)}function xl(){ue&&(function(){let e=copy(T,fastIsObj);for(let l in e){let t=e[l],s=O[l];if(null!=s&&null!=s.min)assign(t,s),l==D&&tl(!0);else if(l!=D||2==i)if(0==ve&&null==t.from){let e=t.range(n,null,null,l);t.min=e[0],t.max=e[1]}else t.min=inf,t.max=-inf}if(ve>0){S.forEach(((t,s)=>{if(1==i){let i=t.scale,o=e[i],r=O[i];if(0==s){let e=o.range(n,o.min,o.max,i);o.min=e[0],o.max=e[1],be=closestIdx(o.min,l[0]),Le=closestIdx(o.max,l[0]),l[0][be]<o.min&&be++,l[0][Le]>o.max&&Le--,t.min=Ve[be],t.max=Ve[Le]}else t.show&&t.auto&&qe(o,r,t,l[s]);t.idxs[0]=be,t.idxs[1]=Le}else if(s>0&&t.show&&t.auto){let[n,i]=t.facets,o=n.scale,r=i.scale,[a,u]=l[s];qe(e[o],O[o],n,a),qe(e[r],O[r],i,u),t.min=i.min,t.max=i.max}}));for(let l in e){let t=e[l],i=O[l];if(null==t.from&&(null==i||null==i.min)){let e=t.range(n,t.min==inf?null:t.min,t.max==-inf?null:t.max,l);t.min=e[0],t.max=e[1]}}}for(let l in e){let t=e[l];if(null!=t.from){let i=e[t.from];if(null==i.min)t.min=t.max=null;else{let e=t.range(n,i.min,i.max,l);t.min=e[0],t.max=e[1]}}}let t={},s=!1;for(let l in e){let n=e[l],i=T[l];if(i.min!=n.min||i.max!=n.max){i.min=n.min,i.max=n.max;let e=i.distr;i._min=3==e?log10(i.min):4==e?asinh(i.min,i.asinh):i.min,i._max=3==e?log10(i.max):4==e?asinh(i.max,i.asinh):i.max,t[l]=s=!0}}if(s){S.forEach(((e,l)=>{2==i?l>0&&t.y&&(e._paths=null):t[e.scale]&&(e._paths=null)}));for(let e in t)fe=!0,$l("setScale",e);xe.show&&(pe=de=xe.left>=0)}for(let e in O)O[e]=null}(),ue=!1),fe&&(function(){let e=!1,l=0;for(;!e;){l++;let t=el(l),i=ll(l);e=l==ge||t&&i,e||(he(n.width,n.height),ce=!0)}}(),fe=!1),ce&&(setStylePx(m,LEFT,ne),setStylePx(m,TOP,ie),setStylePx(m,WIDTH,le),setStylePx(m,HEIGHT,te),setStylePx(h,LEFT,ne),setStylePx(h,TOP,ie),setStylePx(h,WIDTH,le),setStylePx(h,HEIGHT,te),setStylePx(d,WIDTH,Q),setStylePx(d,HEIGHT,ee),f.width=round(Q*pxRatio),f.height=round(ee*pxRatio),w.forEach((e=>{let{_show:l,_el:t,_size:n,_pos:i,side:s}=e;if(l){let e=s%2==1;setStylePx(t,e?"left":"top",i-(3===s||0===s?n:0)),setStylePx(t,e?"width":"height",n),setStylePx(t,e?"top":"left",e?ie:ne),setStylePx(t,e?"height":"width",e?te:le),t&&remClass(t,OFF)}else t&&addClass(t,OFF)})),Ne=Oe=Ae=Me=ke=Ce=ze=He=Ie=null,Fe=1,Bl(!1),$l("setSize"),ce=!1),Q>0&&ee>0&&(p.clearRect(0,0,f.width,f.height),$l("drawClear"),P.forEach((e=>e())),$l("draw")),xe.show&&pe&&(Vl(null,!0,!1),pe=!1),u||(u=!0,n.status=1,$l("ready")),Ge=!1,hl=!1}function _l(e,t){let i=T[e];if(null==i.from){if(0==ve){let l=i.range(n,t.min,t.max,e);t.min=l[0],t.max=l[1]}if(t.min>t.max){let e=t.min;t.min=t.max,t.max=e}if(ve>1&&null!=t.min&&null!=t.max&&t.max-t.min<1e-16)return;e==D&&2==i.distr&&ve>0&&(t.min=closestIdx(t.min,l[0]),t.max=closestIdx(t.max,l[0]),t.min==t.max&&t.max++),O[e]=t,ue=!0,gl()}}n.redraw=(e,l)=>{fe=l||!1,!1!==e?vl(D,b.min,b.max):gl()},n.setScale=_l;let Sl=!1;const wl=xe.drag;let Tl=wl.x,yl=wl.y;xe.show&&(xe.x&&(nl=placeDiv(CURSOR_X,h)),xe.y&&(il=placeDiv(CURSOR_Y,h)),0==b.ori?(sl=nl,ol=il):(sl=il,ol=nl),dl=xe.left,ml=xe.top);const Dl=n.select=assign({show:!0,over:!0,left:0,width:0,top:0,height:0},e.select),El=Dl.show?placeDiv(SELECT,Dl.over?h:m):null;function Pl(e,l){if(Dl.show){for(let l in e)setStylePx(El,l,Dl[l]=e[l]);!1!==l&&$l("setSelect")}}function vl(e,l,t){_l(e,{min:l,max:t})}function bl(e,l,t,s){let o=S[e];null!=l.focus&&function(e){if(e!=Nl){let l=null==e,t=1!=_e.alpha;S.forEach(((n,i)=>{let s=l||0==i||i==e;n._focus=l?null:s,t&&function(e,l){S[e].alpha=l,xe.show&&we[e]&&(we[e].style.opacity=l),F&&Y[e]&&(Y[e].style.opacity=l)}(i,s?1:_e.alpha)})),Nl=e,t&&gl()}}(e),null!=l.show&&(o.show=l.show,function(e,l){let t=S[e],n=F?Y[e]:null;t.show?n&&remClass(n,OFF):(n&&addClass(n,OFF),we.length>1&&elTrans(we[e],-10,-10,le,te))}(e,l.show),vl(2==i?o.facets[1].scale:o.scale,null,null),gl()),!1!==t&&$l("setSeries",e,l),s&&tt("setSeries",n,e,l)}let Ll,Rl,Nl;n.setSelect=Pl,n.setSeries=bl,n.addBand=function(e,l){e.fill=fnOrSelf(e.fill||null),l=null==l?y.length:l,y.splice(l,0,e)},n.setBand=function(e,l){assign(y[e],l)},n.delBand=function(e){null==e?y.length=0:y.splice(e,1)};const Ol={focus:!0},Al={focus:!1};function Il(e,l,t){let n=T[l];t&&(e=e/pxRatio-(1==n.ori?ie:ne));let i=le;1==n.ori&&(i=te,e=i-e),-1==n.dir&&(e=i-e);let s=n._min,o=s+(n._max-s)*(e/i),r=n.distr;return 3==r?pow(10,o):4==r?sinh(o,n.asinh):o}function Ml(e,l){setStylePx(El,LEFT,Dl.left=e),setStylePx(El,WIDTH,Dl.width=l)}function kl(e,l){setStylePx(El,TOP,Dl.top=e),setStylePx(El,HEIGHT,Dl.height=l)}F&&Se&&on(mouseleave,G,(e=>{xe._lock||(bl(null,Al,!0,Ql.setSeries),Vl(null,!0,!1))})),n.valToIdx=e=>closestIdx(e,l[0]),n.posToIdx=function(e,t){return closestIdx(Il(e,D,t),l[0],be,Le)},n.posToVal=Il,n.valToPos=(e,l,t)=>0==T[l].ori?o(e,T[l],t?re:le,t?se:0):r(e,T[l],t?ae:te,t?oe:0),n.batch=function(e){e(n),gl()},n.setCursor=(e,l,t)=>{dl=e.left,ml=e.top,Vl(null,l,t)};let Cl=0==b.ori?Ml:kl,zl=1==b.ori?Ml:kl;function Hl(e,l){if(null!=e){let l=e.idx;H.idx=l,S.forEach(((e,t)=>{(t>0||!U)&&Fl(t,l)}))}F&&H.live&&function(){if(F&&H.live)for(let e=2==i?1:0;e<S.length;e++){if(0==e&&U)continue;let l=H.values[e],t=0;for(let n in l)W[e][t++].firstChild.nodeValue=l[n]}}(),de=!1,!1!==l&&$l("setLegend")}function Fl(e,t){let i;if(null==t)i=q;else{let s=S[e],o=0==e&&2==L?Ve:l[e];i=U?s.values(n,e,t):{_:s.value(n,o[t],e,t)}}H.values[e]=i}function Vl(e,t,s){let o;fl=dl,pl=ml,[dl,ml]=xe.move(n,dl,ml),xe.show&&(sl&&elTrans(sl,round(dl),0,le,te),ol&&elTrans(ol,0,round(ml),le,te));let r=be>Le;Ll=inf;let a=0==b.ori?le:te,c=1==b.ori?le:te;if(dl<0||0==ve||r){o=null;for(let e=0;e<S.length;e++)e>0&&we.length>1&&elTrans(we[e],-10,-10,le,te);if(Se&&bl(null,Ol,!0,null==e&&Ql.setSeries),H.live){z.fill(null),de=!0;for(let e=0;e<S.length;e++)H.values[e]=q}}else{let e,t,s;1==i&&(e=0==b.ori?dl:ml,t=Il(e,D),o=closestIdx(t,l[0],be,Le),s=incrRoundUp(R(l[0][o],b,a,0),.5));for(let e=2==i?1:0;e<S.length;e++){let r=S[e],u=z[e],f=1==i?l[e][u]:l[e][1][u],p=xe.dataIdx(n,e,o,t),d=1==i?l[e][p]:l[e][1][p];de=de||d!=f||p!=u,z[e]=p;let m=p==o?s:incrRoundUp(R(1==i?l[0][p]:l[e][0][p],b,a,0),.5);if(e>0&&r.show){let l,t,s=null==d?-10:incrRoundUp(N(d,1==i?T[r.scale]:T[r.facets[1].scale],c,0),.5);if(s>0&&1==i){let l=abs(s-ml);l<=Ll&&(Ll=l,Rl=e)}if(0==b.ori?(l=m,t=s):(l=s,t=m),de&&we.length>1){elColor(we[e],xe.points.fill(n,e),xe.points.stroke(n,e));let i,s,o,r,a=!0,u=xe.points.bbox;if(null!=u){a=!1;let l=u(n,e);o=l.left,r=l.top,i=l.width,s=l.height}else o=l,r=t,i=s=xe.points.size(n,e);elSize(we[e],i,s,a),elTrans(we[e],o,r,le,te)}}if(H.live){if(!de||0==e&&U)continue;Fl(e,p)}}}if(xe.idx=o,xe.left=dl,xe.top=ml,de&&(H.idx=o,Hl()),Dl.show&&Sl)if(null!=e){let[l,t]=Ql.scales,[n,i]=Ql.match,[s,o]=e.cursor.sync.scales,r=e.cursor.drag;Tl=r._x,yl=r._y;let u,f,p,d,m,{left:h,top:g,width:x,height:_}=e.select,S=e.scales[l].ori,w=e.posToVal,y=null!=l&&n(l,s),D=null!=t&&i(t,o);y&&(0==S?(u=h,f=x):(u=g,f=_),Tl?(p=T[l],d=R(w(u,s),p,a,0),m=R(w(u+f,s),p,a,0),Cl(min(d,m),abs(m-d))):Cl(0,a),D||zl(0,c)),D&&(1==S?(u=h,f=x):(u=g,f=_),yl?(p=T[t],d=N(w(u,o),p,c,0),m=N(w(u+f,o),p,c,0),zl(min(d,m),abs(m-d))):zl(0,c),y||Cl(0,a))}else{let e=abs(fl-rl),l=abs(pl-al);if(1==b.ori){let t=e;e=l,l=t}Tl=wl.x&&e>=wl.dist,yl=wl.y&&l>=wl.dist;let t,n,i=wl.uni;null!=i?Tl&&yl&&(Tl=e>=i,yl=l>=i,Tl||yl||(l>e?yl=!0:Tl=!0)):wl.x&&wl.y&&(Tl||yl)&&(Tl=yl=!0),Tl&&(0==b.ori?(t=ul,n=dl):(t=cl,n=ml),Cl(min(t,n),abs(n-t)),yl||zl(0,c)),yl&&(1==b.ori?(t=ul,n=dl):(t=cl,n=ml),zl(min(t,n),abs(n-t)),Tl||Cl(0,a)),Tl||yl||(Cl(0,0),zl(0,0))}if(wl._x=Tl,wl._y=yl,null==e){if(s){if(null!=et){let[e,l]=Ql.scales;Ql.values[0]=null!=e?Il(0==b.ori?dl:ml,e):null,Ql.values[1]=null!=l?Il(1==b.ori?dl:ml,l):null}tt(mousemove,n,dl,ml,le,te,o)}if(Se){let e=s&&Ql.setSeries,l=_e.prox;null==Nl?Ll<=l&&bl(Rl,Ol,!0,e):Ll>l?bl(null,Ol,!0,e):Rl!=Nl&&bl(Rl,Ol,!0,e)}}u&&!1!==t&&$l("setCursor")}n.setLegend=Hl;let Gl=null;function Bl(e){!0===e?Gl=null:(Gl=h.getBoundingClientRect(),$l("syncRect",Gl))}function Yl(e,l,t,n,i,s,o){xe._lock||(Wl(e,l,t,n,i,s,0,!1,null!=e),null!=e?Vl(null,!0,!0):Vl(l,!0,!1))}function Wl(e,l,t,i,s,o,r,u,c){if(null==Gl&&Bl(!1),null!=e)t=e.clientX-Gl.left,i=e.clientY-Gl.top;else{if(t<0||i<0)return dl=-10,void(ml=-10);let[e,n]=Ql.scales,r=l.cursor.sync,[u,c]=r.values,[f,p]=r.scales,[d,m]=Ql.match,h=1==l.scales[f].ori,g=0==b.ori?le:te,x=1==b.ori?le:te,_=h?o:s,S=h?s:o,w=h?i:t,y=h?t:i;if(t=null!=f?d(e,f)?a(u,T[e],g,0):-10:g*(w/_),i=null!=p?m(n,p)?a(c,T[n],x,0):-10:x*(y/S),1==b.ori){let e=t;t=i,i=e}}c&&((t<=1||t>=le-1)&&(t=incrRound(t,le)),(i<=1||i>=te-1)&&(i=incrRound(i,te))),u?(rl=t,al=i,[ul,cl]=xe.move(n,t,i)):(dl=t,ml=i)}function Ul(){Pl({width:0,height:0},!1)}function ql(e,l,t,i,s,o,r){Sl=!0,Tl=yl=wl._x=wl._y=!1,Wl(e,l,t,i,s,o,0,!0,!1),null!=e&&(Z(mouseup,doc,jl),tt(mousedown,n,ul,cl,le,te,null))}function jl(e,l,t,i,s,o,r){Sl=wl._x=wl._y=!1,Wl(e,l,t,i,s,o,0,!1,!0);let{left:a,top:u,width:c,height:f}=Dl,p=c>0||f>0;if(p&&Pl(Dl),wl.setScale&&p){let e=a,l=c,t=u,n=f;if(1==b.ori&&(e=u,l=f,t=a,n=c),Tl&&vl(D,Il(e,D),Il(e+l,D)),yl)for(let e in T){let l=T[e];e!=D&&null==l.from&&l.min!=inf&&vl(e,Il(t+n,e),Il(t,e))}Ul()}else xe.lock&&(xe._lock=!xe._lock,xe._lock||Vl(null,!0,!1));null!=e&&($(mouseup,doc),tt(mouseup,n,dl,ml,le,te,null))}function Xl(e,l,t,i,s,o,r){Ye(),Ul(),null!=e&&tt(dblclick,n,dl,ml,le,te,null)}function Jl(){w.forEach(syncFontSize),me(n.width,n.height,!0)}on(dppxchange,win,Jl);const Kl={};Kl.mousedown=ql,Kl.mousemove=Yl,Kl.mouseup=jl,Kl.dblclick=Xl,Kl.setSeries=(e,l,t,n)=>{bl(t,n,!0,!1)},xe.show&&(Z(mousedown,h,ql),Z(mousemove,h,Yl),Z(mouseenter,h,Bl),Z(mouseleave,h,(function(e,l,t,n,i,s,o){if(!xe._lock){let e=Sl;if(Sl){let e,l,t=!0,n=!0,i=10;0==b.ori?(e=Tl,l=yl):(e=yl,l=Tl),e&&l&&(t=dl<=i||dl>=le-i,n=ml<=i||ml>=te-i),e&&t&&(dl=dl<ul?0:le),l&&n&&(ml=ml<cl?0:te),Vl(null,!0,!0),Sl=!1}dl=-10,ml=-10,Vl(null,!0,!0),e&&(Sl=e)}})),Z(dblclick,h,Xl),cursorPlots.add(n),n.syncRect=Bl);const Zl=n.hooks=e.hooks||{};function $l(e,l,t){e in Zl&&Zl[e].forEach((e=>{e.call(null,n,l,t)}))}(e.plugins||[]).forEach((e=>{for(let l in e.hooks)Zl[l]=(Zl[l]||[]).concat(e.hooks[l])}));const Ql=assign({key:null,setSeries:!1,filters:{pub:retTrue,sub:retTrue},scales:[D,S[1]?S[1].scale:null],match:[retEq,retEq],values:[null,null]},xe.sync);xe.sync=Ql;const et=Ql.key,lt=_sync(et);function tt(e,l,t,n,i,s,o){Ql.filters.pub(e,l,t,n,i,s,o)&&lt.pub(e,l,t,n,i,s,o)}function nt(){$l("init",e,l),Be(l||e.data,!1),O[D]?_l(D,O[D]):Ye(),me(e.width,e.height),Vl(null,!0,!1),Pl(Dl,!1)}return lt.sub(n),n.pub=function(e,l,t,n,i,s,o){Ql.filters.sub(e,l,t,n,i,s,o)&&Kl[e](null,l,t,n,i,s,o)},n.destroy=function(){lt.unsub(n),cursorPlots.delete(n),K.clear(),off(dppxchange,win,Jl),c.remove(),$l("destroy")},S.forEach(Te),w.forEach((function(e,l){if(e._show=e.show,e.show){let t=e.side%2,i=T[e.scale];null==i&&(e.scale=t?S[1].scale:D,i=T[e.scale]);let s=i.time;e.size=fnOrSelf(e.size),e.space=fnOrSelf(e.space),e.rotate=fnOrSelf(e.rotate),e.incrs=fnOrSelf(e.incrs||(2==i.distr?wholeIncrs:s?1==_?timeIncrsMs:timeIncrsS:numIncrs)),e.splits=fnOrSelf(e.splits||(s&&1==i.distr?M:3==i.distr?logAxisSplits:4==i.distr?asinhAxisSplits:numAxisSplits)),e.stroke=fnOrSelf(e.stroke),e.grid.stroke=fnOrSelf(e.grid.stroke),e.ticks.stroke=fnOrSelf(e.ticks.stroke);let o=e.values;e.values=isArr(o)&&!isArr(o[0])?fnOrSelf(o):s?isArr(o)?timeAxisVals(A,timeAxisStamps(o,I)):isStr(o)?timeAxisVal(A,o):o||k:o||numAxisVals,e.filter=fnOrSelf(e.filter||(i.distr>=3?logAxisValsFilt:retArg1)),e.font=pxRatioFont(e.font),e.labelFont=pxRatioFont(e.labelFont),e._size=e.size(n,null,l,0),e._space=e._rotate=e._incrs=e._found=e._splits=e._values=null,e._size>0&&(ye[l]=!0),e._el=placeDiv(AXIS,d)}})),t?t instanceof HTMLElement?(t.appendChild(c),nt()):t(n,nt):nt(),n}uPlot.assign=assign,uPlot.fmtNum=fmtNum,uPlot.rangeNum=rangeNum,uPlot.rangeLog=rangeLog,uPlot.rangeAsinh=rangeAsinh,uPlot.orient=orient,uPlot.join=join,uPlot.fmtDate=fmtDate,uPlot.tzDate=tzDate,uPlot.sync=_sync;{uPlot.addGap=addGap,uPlot.clipGaps=clipGaps;let e=uPlot.paths={points:points};e.linear=linear,e.stepped=stepped,e.bars=bars,e.spline=monotoneCubic}module.exports=uPlot;